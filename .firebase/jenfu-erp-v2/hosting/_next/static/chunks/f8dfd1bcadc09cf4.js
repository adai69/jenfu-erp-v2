(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},94542,e=>{"use strict";var t=e.i(43476),s=e.i(71645),l=e.i(18566),a=e.i(57951);function r(){let{user:e,login:r,loading:o}=(0,a.useAuth)(),n=(0,l.useRouter)(),c=(0,l.useSearchParams)(),[i,d]=(0,s.useState)(""),[u,m]=(0,s.useState)(""),[x,b]=(0,s.useState)(!1),[h,f]=(0,s.useState)(null),p=c.get("next")??"/master";(0,s.useEffect)(()=>{!o&&e&&n.replace(p)},[e,o,n,p]);let j=async e=>{if(e.preventDefault(),!x){b(!0),f(null);try{await r(i.trim(),u)}catch(e){f("登入失敗，請確認帳號密碼。"),console.error(e),b(!1)}}};return(0,t.jsx)("div",{className:"flex min-h-[80vh] flex-col items-center justify-center bg-white px-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-lg",children:[(0,t.jsxs)("div",{className:"mb-6 text-center",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-teal-600",children:"LOGIN"}),(0,t.jsx)("h1",{className:"mt-1 text-2xl font-semibold text-slate-900",children:"鉦富 ERP 登入"}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"請輸入授權帳號與密碼"})]}),(0,t.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-slate-600",children:["Email",(0,t.jsx)("input",{type:"email",value:i,onChange:e=>d(e.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-sm focus:border-teal-500 focus:outline-none",required:!0,autoComplete:"email"})]}),(0,t.jsxs)("label",{className:"block text-sm font-semibold text-slate-600",children:["密碼",(0,t.jsx)("input",{type:"password",value:u,onChange:e=>m(e.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-sm focus:border-teal-500 focus:outline-none",required:!0,autoComplete:"current-password"})]}),h&&(0,t.jsx)("p",{className:"text-sm font-semibold text-red-600",children:h}),(0,t.jsx)("button",{type:"submit",disabled:x,className:"w-full rounded-full bg-teal-600 py-2 text-sm font-semibold text-white shadow-sm disabled:cursor-not-allowed disabled:bg-slate-400",children:x?"登入中…":"登入系統"})]})]})})}function o(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"flex min-h-[80vh] items-center justify-center text-sm text-slate-500",children:"載入登入頁…"}),children:(0,t.jsx)(r,{})})}e.s(["default",()=>o])}]);